var sectionID,nameInput=document.querySelector(".contact__form-input#name"),mailInput=document.querySelector(".contact__form-input#email"),msgInput=document.querySelector(".contact__form-input#msg"),submitBtn=document.querySelector(".contact__form-btn"),inputs=[nameInput,mailInput,msgInput],showError=function(e,t){e=e.parentElement.querySelector(".contact__form-error");e.textContent=t,e.style.display="block"},clearError=function(e){e.parentElement.querySelector(".contact__form-error").style.display="none"},checkEmpty=function(e){var t;return""!==e.value.trim()||(t=(t=e.parentElement.querySelector(".contact__form-label").textContent).toLowerCase().includes("twoja wiadomość")?"wiadomość":t.toLowerCase(),showError(e,"Pole ".concat(t," nie może pozostać puste!")),!1)},checkLength=function(e,t){var n;return!(e.value.length<t&&(n=e.parentElement.querySelector(".contact__form-label").textContent,showError(e,"".concat(n," musi mieć minimum ").concat(t," znaków")),1))},checkEmail=function(e){return!!/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@((\d{1,3}\.){3}\d{1,3}|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value.trim())||(showError(e,"Nieprawidłowy format adresu e-mail"),!1)},validateForm=function(e){var r=!0;return e.forEach(function(e){clearError(e);var t=checkEmpty(e),n=t;if(t)switch(e.type||e.tagName.toLowerCase()){case"text":n=checkLength(e,3);break;case"email":n=checkEmail(e);break;case"textarea":n=checkLength(e,15)}n||(r=!1)}),r},handleActiveState=function(e){e.forEach(function(t){t.addEventListener("input",function(){var e=document.querySelector('label[for="'.concat(t.id,'"]'));t.value.trim()?(t.classList.add("contact__form-input--active"),null!=e&&e.classList.add("contact__form-label--active")):(t.classList.remove("contact__form-input--active"),null!=e&&e.classList.remove("contact__form-label--active"))})})},burgerBtn=(document.addEventListener("DOMContentLoaded",function(){handleActiveState(inputs),submitBtn.addEventListener("click",function(e){e.preventDefault(),validateForm(inputs)&&console.log("Formularz poprawny, można wysłać!")})}),document.querySelector(".burger-btn")),mobileNav=document.querySelector(".nav__mobile"),links=document.querySelectorAll(".nav__desktop-link"),allSections=document.querySelectorAll(".section"),allMobileLinks=document.querySelectorAll(".nav__mobile-link"),footerYear=document.querySelector(".footer__year"),burgerBtnBars=document.querySelectorAll(".burger-btn__bars"),handleNav=function(){mobileNav.classList.toggle("nav__mobile--active"),burgerBtn.classList.toggle("burger-btn--active")},handleCurrentYear=(allMobileLinks.forEach(function(e){e.addEventListener("click",handleNav)}),burgerBtn.addEventListener("click",handleNav),links.forEach(function(t){t.addEventListener("mouseenter",function(){links.forEach(function(e){e!==t&&(e.style.transform="scale(0.85)",e.classList.remove("nav__desktop-link--active"))}),t.style.transform="scale(1.1)"}),t.addEventListener("mouseleave",function(){handleObserver(),links.forEach(function(e){e!==t&&(e.style.transform="scale(1)",e.hash==="#".concat(sectionID)||"#header"===e.hash&&"nav"===sectionID?e.classList.add("nav__desktop-link--active"):window.location.pathname.includes("offer.html")&&handleLinks())}),t.style.transform="scale(1)"})}),function(){var e=(new Date).getFullYear();footerYear.innerText=e}),handleLinks=(handleCurrentYear(),function(){links.forEach(function(e){e.classList.remove("nav__desktop-link--active"),window.location.pathname.includes("offer.html")?"#offer"===e.hash&&e.classList.add("nav__desktop-link--active"):("nav"===sectionID&&"#header"===e.hash||e.hash==="#".concat(sectionID))&&e.classList.add("nav__desktop-link--active")})}),handleBurgerColors=function(){"header"===sectionID||"divider"===sectionID?burgerBtnBars.forEach(function(e){e.classList.add("burger-btn__bars-colored")}):burgerBtnBars.forEach(function(e){e.classList.remove("burger-btn__bars-colored")})},handleObserver=function(){var r,o=window.scrollY,e=window.innerWidth;576<=e&&e<=768?r=50:0<e&&e<=576&&(r=-75),allSections.forEach(function(e){var t=e.offsetTop,n=e.clientHeight;o<=60?(sectionID="nav",handleLinks(),handleBurgerColors()):(t-60<=o&&o<t+n-60&&(sectionID=e.getAttribute("id"),handleLinks()),t<=o&&o<t+n-r&&(sectionID=e.getAttribute("id"),handleBurgerColors()))})};window.addEventListener("scroll",handleObserver),document.addEventListener("DOMContentLoaded",function(){handleObserver(),handleBurgerColors()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbInNlY3Rpb25JRCIsIm5hbWVJbnB1dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1haWxJbnB1dCIsIm1zZ0lucHV0Iiwic3VibWl0QnRuIiwiaW5wdXRzIiwic2hvd0Vycm9yIiwiaW5wdXQiLCJtZXNzYWdlIiwiZXJyb3IiLCJwYXJlbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJjbGVhckVycm9yIiwiY2hlY2tFbXB0eSIsInZhbHVlIiwidHJpbSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJjb25jYXQiLCJjaGVja0xlbmd0aCIsIm1pbiIsImZpZWxkTmFtZSIsImxlbmd0aCIsImNoZWNrRW1haWwiLCJyZSIsInRlc3QiLCJ2YWxpZGF0ZUZvcm0iLCJpc1ZhbGlkIiwiZm9yRWFjaCIsImlzTm90RW1wdHkiLCJmaWVsZFZhbGlkIiwidHlwZSIsInRhZ05hbWUiLCJoYW5kbGVBY3RpdmVTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsYWJlbCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiYnVyZ2VyQnRuIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImxvZyIsIm1vYmlsZU5hdiIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImFsbFNlY3Rpb25zIiwiYWxsTW9iaWxlTGlua3MiLCJmb290ZXJZZWFyIiwiYnVyZ2VyQnRuQmFycyIsImhhbmRsZU5hdiIsInRvZ2dsZSIsImhhbmRsZUN1cnJlbnRZZWFyIiwibGluayIsIm90aGVyTGluayIsInRyYW5zZm9ybSIsImhhbmRsZU9ic2VydmVyIiwiaGFzaCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJoYW5kbGVMaW5rcyIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJoYW5kbGVCdXJnZXJDb2xvcnMiLCJiYXIiLCJtYXJnaW4iLCJjdXJyZW50U2VjdGlvbiIsInNjcm9sbFkiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJzZWN0aW9uIiwic2VjdGlvblRvcCIsIm9mZnNldFRvcCIsInNlY3Rpb25IZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJnZXRBdHRyaWJ1dGUiXSwibWFwcGluZ3MiOiJBQUFBLElDT0FBLFVEUEFDLFVBQUFDLFNBQUFDLGNBQUEsMkJBQUEsRUFDQUMsVUFBQUYsU0FBQUMsY0FBQSw0QkFBQSxFQUNBRSxTQUFBSCxTQUFBQyxjQUFBLDBCQUFBLEVBQ0FHLFVBQUFKLFNBQUFDLGNBQUEsb0JBQUEsRUFDQUksT0FBQSxDQUFBTixVQUFBRyxVQUFBQyxVQUVBRyxVQUFBLFNBQUFDLEVBQUFDLEdBRUFDLEVBREFGLEVBQUFHLGNBQ0FULGNBQUEsc0JBQUEsRUFDQVEsRUFBQUUsWUFBQUgsRUFDQUMsRUFBQUcsTUFBQUMsUUFBQSxPQUNBLEVBRUFDLFdBQUEsU0FBQVAsR0FDQUEsRUFBQUcsY0FDQVQsY0FBQSxzQkFBQSxFQUNBVyxNQUFBQyxRQUFBLE1BQ0EsRUFFQUUsV0FBQSxTQUFBUixHQUNBLElBRUFDLEVBRkEsTUFBQSxLQUFBRCxFQUFBUyxNQUFBQyxLQUFBLElBRUFULEdBQUFBLEVBREFELEVBQUFHLGNBQUFULGNBQUEsc0JBQUEsRUFBQVUsYUFDQU8sWUFBQSxFQUFBQyxTQUFBLGlCQUFBLEVBQ0EsWUFDQVgsRUFBQVUsWUFBQSxFQUNBWixVQUFBQyxFQUFBLFFBQUFhLE9BQUFaLEVBQUEsMkJBQUEsQ0FBQSxFQUNBLENBQUEsRUFHQSxFQUVBYSxZQUFBLFNBQUFkLEVBQUFlLEdBQ0EsSUFDQUMsRUFEQSxNQUFBLEVBQUFoQixFQUFBUyxNQUFBUSxPQUFBRixJQUNBQyxFQUFBaEIsRUFBQUcsY0FBQVQsY0FBQSxzQkFBQSxFQUFBVSxZQUNBTCxVQUFBQyxFQUFBLEdBQUFhLE9BQUFHLEVBQUEscUJBQUEsRUFBQUgsT0FBQUUsRUFBQSxTQUFBLENBQUEsRUFDQSxHQUdBLEVBRUFHLFdBQUEsU0FBQWxCLEdBRUEsTUFB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RUFBQUssYUFBQSxJQUFBLEVBQ0FaLG1CQUFBLEdBRUEsQ0FBQSxDQUNBLEVBRUFSLE9BQUExQixpQkFBQSxTQUFBd0IsY0FBQSxFQUVBNUQsU0FBQW9DLGlCQUFBLG1CQUFBLFdBQ0F3QixlQUFBLEVBQ0FVLG1CQUFBLENBQ0EsQ0FBQSIsImZpbGUiOiJidW5kbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0X19mb3JtLWlucHV0I25hbWVcIik7XHJcbmNvbnN0IG1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdF9fZm9ybS1pbnB1dCNlbWFpbFwiKTtcclxuY29uc3QgbXNnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RfX2Zvcm0taW5wdXQjbXNnXCIpO1xyXG5jb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RfX2Zvcm0tYnRuXCIpO1xyXG5jb25zdCBpbnB1dHMgPSBbbmFtZUlucHV0LCBtYWlsSW5wdXQsIG1zZ0lucHV0XTtcclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbWVzc2FnZSkgPT4ge1xyXG4gIGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xyXG4gIGNvbnN0IGVycm9yID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3RfX2Zvcm0tZXJyb3JcIik7XHJcbiAgZXJyb3IudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xyXG4gIGVycm9yLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbn07XHJcblxyXG5jb25zdCBjbGVhckVycm9yID0gKGlucHV0KSA9PiB7XHJcbiAgY29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcbiAgY29uc3QgZXJyb3IgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdF9fZm9ybS1lcnJvclwiKTtcclxuICBlcnJvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0VtcHR5ID0gKGlucHV0KSA9PiB7XHJcbiAgaWYgKGlucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG4gICAgbGV0IG1lc3NhZ2UgPSBpbnB1dC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdF9fZm9ybS1sYWJlbFwiKS50ZXh0Q29udGVudDtcclxuICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ0d29qYSB3aWFkb21vxZvEh1wiKSBcclxuICAgICAgPyBcIndpYWRvbW/Fm8SHXCIgXHJcbiAgICAgIDogbWVzc2FnZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgc2hvd0Vycm9yKGlucHV0LCBgUG9sZSAke21lc3NhZ2V9IG5pZSBtb8W8ZSBwb3pvc3RhxIcgcHVzdGUhYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tMZW5ndGggPSAoaW5wdXQsIG1pbikgPT4ge1xyXG4gIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW4pIHtcclxuICAgIGNvbnN0IGZpZWxkTmFtZSA9IGlucHV0LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0X19mb3JtLWxhYmVsXCIpLnRleHRDb250ZW50O1xyXG4gICAgc2hvd0Vycm9yKGlucHV0LCBgJHtmaWVsZE5hbWV9IG11c2kgbWllxIcgbWluaW11bSAke21pbn0gem5ha8Ozd2ApO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRW1haWwgPSAoaW5wdXQpID0+IHtcclxuICBjb25zdCByZSA9IC9eKChbXjw+KClcXFtcXF1cXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVxcW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcZHsxLDN9XFwuKXszfVxcZHsxLDN9fCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xyXG4gIGlmICghcmUudGVzdChpbnB1dC52YWx1ZS50cmltKCkpKSB7XHJcbiAgICBzaG93RXJyb3IoaW5wdXQsIFwiTmllcHJhd2lkxYJvd3kgZm9ybWF0IGFkcmVzdSBlLW1haWxcIik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuLy8gR8WCw7N3bmEgZnVua2NqYSB3YWxpZGFjeWpuYVxyXG5jb25zdCB2YWxpZGF0ZUZvcm0gPSAoaW5wdXRzKSA9PiB7XHJcbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xyXG5cclxuICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICBjbGVhckVycm9yKGlucHV0KTtcclxuICAgIFxyXG4gICAgY29uc3QgaXNOb3RFbXB0eSA9IGNoZWNrRW1wdHkoaW5wdXQpO1xyXG4gICAgbGV0IGZpZWxkVmFsaWQgPSBpc05vdEVtcHR5O1xyXG5cclxuICAgIGlmIChpc05vdEVtcHR5KSB7XHJcbiAgICAgIHN3aXRjaChpbnB1dC50eXBlID8gaW5wdXQudHlwZSA6IGlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XHJcbiAgICAgICAgICBmaWVsZFZhbGlkID0gY2hlY2tMZW5ndGgoaW5wdXQsIDMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImVtYWlsXCI6XHJcbiAgICAgICAgICBmaWVsZFZhbGlkID0gY2hlY2tFbWFpbChpbnB1dCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcclxuICAgICAgICAgIGZpZWxkVmFsaWQgPSBjaGVja0xlbmd0aChpbnB1dCwgMTUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWZpZWxkVmFsaWQpIGlzVmFsaWQgPSBmYWxzZTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGlzVmFsaWQ7XHJcbn07XHJcblxyXG4vLyBPYnPFgnVnYSBzdGFudSBha3R5d255Y2ggcMOzbFxyXG5jb25zdCBoYW5kbGVBY3RpdmVTdGF0ZSA9IChpbnB1dHMpID0+IHtcclxuICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxhYmVsW2Zvcj1cIiR7aW5wdXQuaWR9XCJdYCk7XHJcbiAgICAgIGlmIChpbnB1dC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKFwiY29udGFjdF9fZm9ybS1pbnB1dC0tYWN0aXZlXCIpO1xyXG4gICAgICAgIGxhYmVsPy5jbGFzc0xpc3QuYWRkKFwiY29udGFjdF9fZm9ybS1sYWJlbC0tYWN0aXZlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJjb250YWN0X19mb3JtLWlucHV0LS1hY3RpdmVcIik7XHJcbiAgICAgICAgbGFiZWw/LmNsYXNzTGlzdC5yZW1vdmUoXCJjb250YWN0X19mb3JtLWxhYmVsLS1hY3RpdmVcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gSW5pY2phbGl6YWNqYVxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgaGFuZGxlQWN0aXZlU3RhdGUoaW5wdXRzKTtcclxuXHJcbiAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICBpZiAodmFsaWRhdGVGb3JtKGlucHV0cykpIHtcclxuICAgICAgLy8gVHV0YWoga29kIGRvIHd5c8WCYW5pYSBmb3JtdWxhcnphXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRm9ybXVsYXJ6IHBvcHJhd255LCBtb8W8bmEgd3lzxYJhxIchXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbiIsImNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyLWJ0blwiKTtcclxuY29uc3QgbW9iaWxlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX21vYmlsZVwiKTtcclxuY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdl9fZGVza3RvcC1saW5rXCIpO1xyXG5jb25zdCBhbGxTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VjdGlvblwiKTtcclxuY29uc3QgYWxsTW9iaWxlTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdl9fbW9iaWxlLWxpbmtcIik7XHJcbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9feWVhclwiKTtcclxuY29uc3QgYnVyZ2VyQnRuQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyLWJ0bl9fYmFyc1wiKTtcclxubGV0IHNlY3Rpb25JRDtcclxuXHJcbi8vIG5hd2lnYWNqYVxyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcbiAgIG1vYmlsZU5hdi5jbGFzc0xpc3QudG9nZ2xlKFwibmF2X19tb2JpbGUtLWFjdGl2ZVwiKTtcclxuICAgYnVyZ2VyQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJidXJnZXItYnRuLS1hY3RpdmVcIik7XHJcbn07XHJcbi8vIG5hd2lnYWNqYSAtLSBsaW5raVxyXG5hbGxNb2JpbGVMaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcbn0pO1xyXG5cclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVOYXYpO1xyXG5cclxuLy8gYW5pbWFjamUgZG8gbGlua293IGRlc2t0b3AgcHJ6eSBob3ZlclxyXG5saW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xyXG4gICAgICBsaW5rcy5mb3JFYWNoKChvdGhlckxpbmspID0+IHtcclxuICAgICAgICAgaWYgKG90aGVyTGluayAhPT0gbGluaykge1xyXG4gICAgICAgICAgICBvdGhlckxpbmsuc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgwLjg1KVwiO1xyXG4gICAgICAgICAgICBvdGhlckxpbmsuY2xhc3NMaXN0LnJlbW92ZShcIm5hdl9fZGVza3RvcC1saW5rLS1hY3RpdmVcIik7XHJcbiAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGxpbmsuc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxLjEpXCI7XHJcbiAgIH0pO1xyXG4gICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcclxuICAgICAgLy8gYWt0dWFsaXp1amUgc2VjdGlvbklEIHByemVkIHNwcmF3ZHplbmllbVxyXG4gICAgICBoYW5kbGVPYnNlcnZlcigpO1xyXG4gICBcclxuICAgICAgbGlua3MuZm9yRWFjaCgob3RoZXJMaW5rKSA9PiB7XHJcbiAgICAgICAgIGlmIChvdGhlckxpbmsgIT09IGxpbmspIHtcclxuICAgICAgICAgICAgb3RoZXJMaW5rLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSlcIjtcclxuICAgXHJcbiAgICAgICAgICAgIGlmIChvdGhlckxpbmsuaGFzaCA9PT0gYCMke3NlY3Rpb25JRH1gKSB7XHJcbiAgICAgICAgICAgICAgIG90aGVyTGluay5jbGFzc0xpc3QuYWRkKFwibmF2X19kZXNrdG9wLWxpbmstLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvdGhlckxpbmsuaGFzaCA9PT0gXCIjaGVhZGVyXCIgJiYgc2VjdGlvbklEID09PSBcIm5hdlwiKSB7XHJcbiAgICAgICAgICAgICAgIG90aGVyTGluay5jbGFzc0xpc3QuYWRkKFwibmF2X19kZXNrdG9wLWxpbmstLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoXCJvZmZlci5odG1sXCIpKSB7XHJcbiAgICAgICAgICAgICAgIGhhbmRsZUxpbmtzKCk7IFxyXG4gICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgIFxyXG4gICAgICBsaW5rLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSlcIjtcclxuICAgfSk7XHJcbn0pO1xyXG5cclxuLy8gZm9vdGVyXHJcbmNvbnN0IGhhbmRsZUN1cnJlbnRZZWFyID0gKCkgPT4ge1xyXG4gICBjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG4gICBmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXI7XHJcbn07XHJcbmhhbmRsZUN1cnJlbnRZZWFyKCk7XHJcbi8vIHNjcm9sbHNweSAtLS0gbGlua2lcclxuY29uc3QgaGFuZGxlTGlua3MgPSAoKSA9PiB7XHJcbiAgIGxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgIGxpbmsuY2xhc3NMaXN0LnJlbW92ZShcIm5hdl9fZGVza3RvcC1saW5rLS1hY3RpdmVcIik7XHJcblxyXG4gICAgICAgLy8gRGxhIHN0cm9ueSBvZmZlci5odG1sXHJcbiAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCdvZmZlci5odG1sJykpIHtcclxuICAgICAgICAgICBpZiAobGluay5oYXNoID09PSAnI29mZmVyJykge1xyXG4gICAgICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoXCJuYXZfX2Rlc2t0b3AtbGluay0tYWN0aXZlXCIpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgIH0gXHJcbiAgICAgICAvLyBEbGEgc3Ryb255IGluZGV4Lmh0bWxcclxuICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgIGlmIChzZWN0aW9uSUQgPT09IFwibmF2XCIgJiYgbGluay5oYXNoID09PSAnI2hlYWRlcicpIHtcclxuICAgICAgICAgICAgICAgbGluay5jbGFzc0xpc3QuYWRkKFwibmF2X19kZXNrdG9wLWxpbmstLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmsuaGFzaCA9PT0gYCMke3NlY3Rpb25JRH1gKSB7XHJcbiAgICAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZChcIm5hdl9fZGVza3RvcC1saW5rLS1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gICB9KTtcclxufTtcclxuLy8gem1pYW5hIGtvbG9ydSBidXJnZXJhXHJcbmNvbnN0IGhhbmRsZUJ1cmdlckNvbG9ycyA9ICgpID0+IHtcclxuICAgaWYgKHNlY3Rpb25JRCA9PT0gXCJoZWFkZXJcIiB8fCBzZWN0aW9uSUQgPT09IFwiZGl2aWRlclwiKSB7XHJcbiAgICAgIGJ1cmdlckJ0bkJhcnMuZm9yRWFjaCgoYmFyKSA9PiB7XHJcbiAgICAgICAgIGJhci5jbGFzc0xpc3QuYWRkKFwiYnVyZ2VyLWJ0bl9fYmFycy1jb2xvcmVkXCIpO1xyXG4gICAgICB9KTtcclxuICAgfSBlbHNlIHtcclxuICAgICAgYnVyZ2VyQnRuQmFycy5mb3JFYWNoKChiYXIpID0+IHtcclxuICAgICAgICAgYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJidXJnZXItYnRuX19iYXJzLWNvbG9yZWRcIik7XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVPYnNlcnZlciA9ICgpID0+IHtcclxuICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgbGV0IG1hcmdpbjtcclxuXHJcbiAgIGlmICh3aWR0aCA+PSA1NzYgJiYgd2lkdGggPD0gNzY4KSB7XHJcbiAgICAgIG1hcmdpbiA9IDUwO1xyXG4gICB9IGVsc2UgaWYgKHdpZHRoID4gMCAmJiB3aWR0aCA8PSA1NzYpIHtcclxuICAgICAgbWFyZ2luID0gLTc1O1xyXG4gICB9XHJcblxyXG4gICBhbGxTZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNlY3Rpb25Ub3AgPSBzZWN0aW9uLm9mZnNldFRvcDtcclxuICAgICAgY29uc3Qgc2VjdGlvbkhlaWdodCA9IHNlY3Rpb24uY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgICAgaWYgKGN1cnJlbnRTZWN0aW9uIDw9IDYwKSB7XHJcbiAgICAgICAgIHNlY3Rpb25JRCA9IFwibmF2XCI7XHJcbiAgICAgICAgIGhhbmRsZUxpbmtzKClcclxuICAgICAgICAgaGFuZGxlQnVyZ2VyQ29sb3JzKCk7XHJcbiAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGN1cnJlbnRTZWN0aW9uID49IHNlY3Rpb25Ub3AgLSA2MCAmJiBjdXJyZW50U2VjdGlvbiA8IHNlY3Rpb25Ub3AgKyBzZWN0aW9uSGVpZ2h0IC0gNjApIHtcclxuICAgICAgICAgc2VjdGlvbklEID0gc2VjdGlvbi5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgICAgaGFuZGxlTGlua3MoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY3VycmVudFNlY3Rpb24gPj0gc2VjdGlvblRvcCAmJiBjdXJyZW50U2VjdGlvbiA8IHNlY3Rpb25Ub3AgKyBzZWN0aW9uSGVpZ2h0IC0gbWFyZ2luKSB7XHJcbiAgICAgICAgIHNlY3Rpb25JRCA9IHNlY3Rpb24uZ2V0QXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICAgICAgIGhhbmRsZUJ1cmdlckNvbG9ycygpO1xyXG4gICAgICB9XHJcbiAgIH0pO1xyXG59O1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlT2JzZXJ2ZXIpO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICBoYW5kbGVPYnNlcnZlcigpO1xyXG4gICBoYW5kbGVCdXJnZXJDb2xvcnMoKTtcclxufSk7XHJcblxyXG4iXX0=
